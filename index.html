<!--
 * @Descripttion: 
 * @version: 1.0
 * @Author: Ga1axy_z
 * @Date: 2021-07-14 20:43:20
 * @LastEditors: Ga1axy_z
 * @LastEditTime: 2021-07-16 15:54:24
-->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- Bootstrap å¿…é¡»çš„ meta æ ‡ç­¾ -->
    <meta charset="utf-8">
    <!-- è®© viewportï¼ˆè§†å£ï¼‰æ”¯æŒå“åº”å¼å¸ƒå±€ -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Weather Inquire By Ga1axy_z</title>
    <link rel="stylesheet" type="text/css" href="./style.css">
    <!-- Bootstrap çš„ CSS æ–‡ä»¶ -->
    <link rel="stylesheet" type="text/css" href="./bootstrap.css">
    <script src="./vue.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/echarts/5.1.2/echarts.common.js"></script>
    <script src="http://pv.sohu.com/cityjson?ie=utf-8"></script> 
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>

<!--
1ã€é«˜å¾·IPå®šä½APIï¼ˆæ ¹æ®ipåœ°å€è·å–adcodeï¼‰ï¼š
    https://restapi.amap.com/v3/ip?key=&ip=42.48.225.2
2ã€å’Œé£æŸ¥è¯¢APIï¼ˆæ ¹æ®adcodeè·å–å’Œé£åŸå¸‚ç¼–ç idï¼‰
    https://geoapi.qweather.com/v2/city/lookup?key=&location=430400
3ã€å’Œé£å½“æ—¥å¤©æ°”APIï¼ˆæ ¹æ®å’Œé£åŸå¸‚ç¼–ç idè·å–å½“æ—¥å¤©æ°”ï¼‰
    https://devapi.qweather.com/v7/weather/now?key=&location=101250401
4ã€å’Œé£3æ—¥å¤©æ°”APIï¼ˆæ ¹æ®å’Œé£åŸå¸‚ç¼–ç idè·å–3æ—¥è¯¦ç»†å¤©æ°”ï¼‰
    https://devapi.qweather.com/v7/weather/3d?key=&location=101250401
5ã€å’Œé£å½“æ—¥ç©ºæ°”è´¨é‡APIï¼ˆæ ¹æ®å’Œé£åŸå¸‚ç¼–ç idè·å–å½“æ—¥ç©ºæ°”è´¨é‡ï¼‰
    https://devapi.qweather.com/v7/air/now?key=&location=101250401
-->

<body>
    <div class="weatherApp d-flex flex-column align-items-center">

        <!-- é¡¶éƒ¨å¼¹çª— -->
        <div class="myalert">
            <div class="alert alert-danger alert-dismissible fade show inquirefail1 inquirefail" role="alert" style="display: none;">
                <strong>Oops!</strong> æœªæ ¹æ®ä½ çš„IPåœ°å€è·å–åˆ°å¤©æ°”æ•°æ®ï¼Œè¯·æ‰‹åŠ¨æŸ¥è¯¢!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="alert alert-danger alert-dismissible fade show inquirefail2 inquirefail" role="alert" style="display: none;">
                <strong>Oops!</strong> æŸ¥è¯¢è¯·æ±‚å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥è¾“å…¥å¹¶é‡è¯•ï¼Œè‹¥ä»ä¸å¯ç”¨è¯·è”ç³»ç®¡ç†å‘˜!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="alert alert-warning alert-dismissible fade show inquirefail3 inquirefail" role="alert" style="display: none;">
                <strong>Sorryï¼Œ</strong> æš‚æ— è¯¥åœ°åŒºç©ºæ°”è´¨é‡æ•°æ®!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="alert alert-warning alert-dismissible fade show inquirefail4 inquirefail" role="alert" style="display: none;">
                <strong>Sorryï¼Œ</strong> æš‚æ— è¯¥åœ°åŒºå¤©æ°”æ•°æ®!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <!-- <div class="alert alert-danger alert-dismissible fade show inquirefail5 inquirefail" role="alert" style="display: none;">
                <h4 class="alert-heading">å¾ˆé—æ†¾ï¼</h4><hr>æœ¬ç½‘ç«™å› ç«™é•¿ç»æµæ¡ä»¶æš‚æ—¶è¿˜æ²¡æœ‰åˆ°è¾¾å·…å³°é€ æçš„åœ°æ­¥ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨å…è´¹å¤©æ°”API<br>å½“ä½ çœ‹åˆ°è¿™å¥è¯çš„æ—¶å€™ï¼Œæ„å‘³ç€ä»Šå¤©çš„æŸ¥è¯¢æ¬¡æ•°å·²ç”¨å…‰ğŸ˜­ï¼<br>Soï¼Œæ¬¢è¿æ˜å¤©APIè®¿é—®é‡é‡ç½®åå†æ¥ï¼
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div> -->
            <div class="alert alert-warning alert-dismissible fade show inquirefail6 inquirefail" role="alert" style="display: none;">
                <strong>è¯¶ï¼Œ</strong> æŸ¥è¯¢å­—æ®µä¸èƒ½ä¸ºç©º!
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
        </div>

        <!-- ä»Šæ—¥å¤©æ°” -->
        <div class="todayWeather d-flex flex-column align-items-center" v-if="mainPage">
            <div class="topContent d-flex justify-content-between">
                <div class="d-flex align-items-end" style="width: 65%;">
                    <div style="font-size: 1.5em;">{{cityName}}</div>
                    <div style="margin-left: 4%; width:70%;">ä»Šå¤©ï¼š{{moreWeather[0].textDay}} {{moreWeather[0].tempMin}}Â°~{{moreWeather[0].tempMax}}Â°C<span style="margin-left: 3%;">äº‘é‡{{moreWeather[0].cloud}}%</span></div>
                </div>
                <div class="d-flex align-items-end" style="width: 35%;">
                    <div style="margin-left: 4%;">æ•°æ®è§‚æµ‹æ—¶é—´ï¼š</div>
                    <div style="margin-left: 5%;">{{moreWeather[0].fxDate}} {{updateTime}}</div>
                </div>
            </div>
            <div class="centerPart d-flex justify-content-between align-items-center">
                <div class="centerContent d-flex align-items-center">
                    <div class="nowTemp">{{todayWeather.temp}}Â°</div>
                    <div class="otherInfo d-flex flex-column">
                        <div class="nowAqi" style="margin: 0 2%; margin-bottom: 3%;">
                            <span class="badge badge-pill badge-success" v-bind:style="quality">{{todayAqi.aqi}} {{todayAqi.category}}</span>
                        </div>
                        <div class="nowOtherInfo d-flex align-items-center">
                            <img v-bind:src="'./images/' + todayWeather.icon + '.png'" class="nowIcon">
                            <div class="nowWeather" style="margin: 0 2%;">{{todayWeather.text}}</div>
                            <div class="nowWindDir" style="margin: 0 2%;">{{todayWeather.windDir}}</div>
                            <div class="nowWindScale" style="margin: 0 2%;">{{todayWeather.windScale}}çº§</div>
                        </div>
                    </div>
                </div>
                <button class="btn btn-outline-success my-2 my-sm-0 changePageBtn" type="submit" @click="changePage">æŸ¥è¯¢</button>
            </div>
            <div class="float-left" style="width: 100%;">
                <div class="bottomContent d-flex justify-content-between">
                    <div>ç›¸å¯¹æ¹¿åº¦{{todayWeather.humidity}}%</div>
                    <div>å¤§æ°”å‹å¼º{{todayWeather.pressure}}</div>
                    <div>æ—¥å‡ºæ—¶é—´{{moreWeather[0].sunrise}}</div>
                    <div>æ—¥è½æ—¶é—´{{moreWeather[0].sunset}}</div>
                </div>
            </div>
        </div>

        <!-- ä¸‰æ—¥å¤©æ°” -->
        <div class="moreWeather" v-if="mainPage">
            <div class="card-deck">
                <div class="card" style="background-color: #ffffffc0;">
                    <div class="card-body">
                        <p class="card-text"><small class="text-muted">ä»Šå¤©</small></p>
                        <h6 class="card-title">{{moreWeather[0].fxDate}}</h6>
                        <div class="detailWeather">
                            ç™½å¤© {{moreWeather[0].textDay}} <img v-bind:src="'./blackimages/' + moreWeather[0].iconDay + '.png'" class="cardIcon"> 
                            æ™šé—´ {{moreWeather[0].textNight}} <img v-bind:src="'./blackimages/' + moreWeather[0].iconNight + '.png'" class="cardIcon">
                        </div>
                        <div class="detailWeather">æ¸©åº¦ {{moreWeather[0].tempMin}}Â° ~ {{moreWeather[0].tempMax}}Â°C</div>
                        <div class="detailWeather">æ—¥å‡º {{moreWeather[0].sunrise}} æ—¥è½ {{moreWeather[0].sunset}}</div>
                        <div class="detailWeather">æœˆå‡ {{moreWeather[0].moonrise}} æœˆè½ {{moreWeather[0].moonset}}</div>
                        <div class="detailWeather">æœˆç›¸ {{moreWeather[0].moonPhase}}</div>
                        <div class="detailWeather">ç™½å¤©çš„é£ {{moreWeather[0].windDirDay}} {{moreWeather[0].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[0].windSpeedDay}}Km/H</div>
                        <div class="detailWeather">å¤œé—´çš„é£ {{moreWeather[0].windDirNight}} {{moreWeather[0].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[0].windSpeedNight}}Km/H</div>
                        <div class="detailWeather">ç›¸å¯¹æ¹¿åº¦ {{moreWeather[0].humidity}}%</div>
                        <div class="detailWeather">å¤§æ°”å‹å¼º {{moreWeather[0].pressure}}</div>
                        <div class="detailWeather">ç´«å¤–çº¿å¼ºåº¦æŒ‡æ•° {{moreWeather[0].uvIndex}} <span style="margin-left: 15px;">èƒ½è§åº¦ {{moreWeather[0].vis}}Km</span></div>
                        <div class="detailWeather">å½“å¤©æ€»é™æ°´é‡ {{moreWeather[0].precip}}mm <span style="margin-left: 10px;">äº‘é‡ {{moreWeather[0].cloud}}%</span></div>
                    </div>
                </div>
                <div class="card" style="background-color: #ffffffc0;">
                    <div class="card-body">
                        <p class="card-text"><small class="text-muted">æ˜å¤©</small></p>
                        <h6 class="card-title">{{moreWeather[1].fxDate}}</h6>
                        <div class="detailWeather">
                            ç™½å¤© {{moreWeather[1].textDay}} <img v-bind:src="'./blackimages/' + moreWeather[1].iconDay + '.png'" class="cardIcon"> 
                            æ™šé—´ {{moreWeather[1].textNight}} <img v-bind:src="'./blackimages/' + moreWeather[1].iconNight + '.png'" class="cardIcon">
                        </div>
                        <div class="detailWeather">æ¸©åº¦ {{moreWeather[1].tempMin}}Â° ~ {{moreWeather[1].tempMax}}Â°C</div>
                        <div class="detailWeather">æ—¥å‡º {{moreWeather[1].sunrise}} æ—¥è½ {{moreWeather[1].sunset}}</div>
                        <div class="detailWeather">æœˆå‡ {{moreWeather[1].moonrise}} æœˆè½ {{moreWeather[1].moonset}}</div>
                        <div class="detailWeather">æœˆç›¸ {{moreWeather[1].moonPhase}}</div>
                        <div class="detailWeather">ç™½å¤©çš„é£ {{moreWeather[1].windDirDay}} {{moreWeather[1].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[1].windSpeedDay}}Km/H</div>
                        <div class="detailWeather">å¤œé—´çš„é£ {{moreWeather[1].windDirNight}} {{moreWeather[1].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[1].windSpeedNight}}Km/H</div>
                        <div class="detailWeather">ç›¸å¯¹æ¹¿åº¦ {{moreWeather[1].humidity}}%</div>
                        <div class="detailWeather">å¤§æ°”å‹å¼º {{moreWeather[1].pressure}}</div>
                        <div class="detailWeather">ç´«å¤–çº¿å¼ºåº¦æŒ‡æ•° {{moreWeather[1].uvIndex}} <span style="margin-left: 15px;">èƒ½è§åº¦ {{moreWeather[1].vis}}Km</span></div>
                        <div class="detailWeather">å½“å¤©æ€»é™æ°´é‡ {{moreWeather[1].precip}}mm <span style="margin-left: 10px;">äº‘é‡ {{moreWeather[1].cloud}}%</span></div>
                    </div>
                </div>
                <div class="card" style="background-color: #ffffffc0;">
                    <div class="card-body">
                        <p class="card-text"><small class="text-muted">{{week}}</small></p>
                        <h6 class="card-title">{{moreWeather[2].fxDate}}</h6>
                        <div class="detailWeather">
                            ç™½å¤© {{moreWeather[2].textDay}} <img v-bind:src="'./blackimages/' + moreWeather[2].iconDay + '.png'" class="cardIcon"> 
                            æ™šé—´ {{moreWeather[2].textNight}} <img v-bind:src="'./blackimages/' + moreWeather[2].iconNight + '.png'" class="cardIcon">
                        </div>
                        <div class="detailWeather">æ¸©åº¦ {{moreWeather[2].tempMin}}Â° ~ {{moreWeather[2].tempMax}}Â°C</div>
                        <div class="detailWeather">æ—¥å‡º {{moreWeather[2].sunrise}} æ—¥è½ {{moreWeather[2].sunset}}</div>
                        <div class="detailWeather">æœˆå‡ {{moreWeather[2].moonrise}} æœˆè½ {{moreWeather[2].moonset}}</div>
                        <div class="detailWeather">æœˆç›¸ {{moreWeather[2].moonPhase}}</div>
                        <div class="detailWeather">ç™½å¤©çš„é£ {{moreWeather[2].windDirDay}} {{moreWeather[2].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[2].windSpeedDay}}Km/H</div>
                        <div class="detailWeather">å¤œé—´çš„é£ {{moreWeather[2].windDirNight}} {{moreWeather[2].windScaleDay}}çº§ é£é€Ÿ {{moreWeather[2].windSpeedNight}}Km/H</div>
                        <div class="detailWeather">ç›¸å¯¹æ¹¿åº¦ {{moreWeather[2].humidity}}%</div>
                        <div class="detailWeather">å¤§æ°”å‹å¼º {{moreWeather[2].pressure}}</div>
                        <div class="detailWeather">ç´«å¤–çº¿å¼ºåº¦æŒ‡æ•° {{moreWeather[2].uvIndex}} <span style="margin-left: 15px;">èƒ½è§åº¦ {{moreWeather[2].vis}}Km</span></div>
                        <div class="detailWeather">å½“å¤©æ€»é™æ°´é‡ {{moreWeather[2].precip}}mm <span style="margin-left: 10px;">äº‘é‡ {{moreWeather[2].cloud}}%</span></div>
                    </div>
                </div>
              </div>
        </div>

        <div class="tryAgain" v-if="hidePage">
            <div class="jumbotron">
                <h1 class="display-4">Location</h1>
                <p class="lead">è¯·è¾“å…¥éœ€è¦æŸ¥è¯¢åœ°åŒºçš„åç§°ï¼Œæ”¯æŒæ–‡å­—ã€ä»¥è‹±æ–‡é€—å·åˆ†éš”çš„ç»åº¦,çº¬åº¦åæ ‡ï¼ˆåè¿›åˆ¶ï¼‰ã€LocationIDæˆ–Adcodeï¼ˆä»…é™ä¸­å›½åŸå¸‚ï¼‰ã€‚ä¾‹å¦‚ location=åŒ—äº¬ æˆ– location=116.41,39.92</p>
                <form class="myform2">
                    <div class="row" style="width: 94%;">
                        <div class="col">
                            <input type="text" class="form-control" placeholder="Locationï¼ˆå¿…å¡«ï¼‰" v-model="Location" @keyup.enter="searchInfo">
                        </div>
                        <div class="col">
                            <input type="text" class="form-control" placeholder="Admï¼ˆé€‰å¡«ï¼‰" v-model="Adm">
                        </div>
                        <button class="btn btn-outline-success my-2 my-sm-0" type="submit" @click="searchInfo">æŸ¥è¯¢</button>
                    </div>
                </form>
                <hr class="my-4">
                <div class="alert alert-primary" role="alert">
                    <h4 class="alert-heading">æ¨¡ç³Šæœç´¢</h4>
                    <p>å½“locationä¼ é€’çš„ä¸ºæ–‡å­—æ—¶ï¼Œæ”¯æŒæ¨¡ç³Šæœç´¢ï¼Œå³ç”¨æˆ·å¯ä»¥åªè¾“å…¥åŸå¸‚åç§°ä¸€éƒ¨åˆ†è¿›è¡Œæœç´¢ï¼Œæœ€å°‘ä¸€ä¸ªæ±‰å­—æˆ–2ä¸ªå­—ç¬¦ï¼Œç»“æœå°†æŒ‰ç…§ç›¸å…³æ€§å’ŒRankå€¼è¿›è¡Œæ’åˆ—ã€‚ä¾‹å¦‚ location=beiï¼Œå°†è¿”å›ä¸beiç›¸å…³æ€§æœ€å¼ºçš„ç¬¬ä¸€ä¸ªç»“æœ</p>
                </div>
                <div class="alert alert-primary" role="alert">
                    <h4 class="alert-heading">é‡å</h4>
                    <p>å½“locationä¼ é€’çš„å‚æ•°ä¸ºæ–‡å­—æ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°é‡åçš„åŸå¸‚ï¼Œä¾‹å¦‚ é™•è¥¿çœè¥¿å®‰å¸‚ã€å‰æ—çœè¾½æºå¸‚ä¸‹è¾–çš„è¥¿å®‰åŒº å’Œ é»‘é¾™æ±Ÿçœç‰¡ä¸¹æ±Ÿå¸‚ä¸‹è¾–çš„è¥¿å®‰åŒº ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡å¢åŠ <strong> adm å‚æ•° </strong>çš„æ–¹å¼è¿›ä¸€æ­¥ç¡®å®šéœ€è¦æŸ¥è¯¢çš„åŸå¸‚æˆ–åœ°åŒºï¼Œä¾‹å¦‚ location=è¥¿å®‰&adm=é»‘é¾™æ±Ÿ</p>
                </div>
            </div>
        </div>
    
    </div>
    
    <script>
        var vm = new Vue({
            el: ".weatherApp",
            data: {
                mainPage: 1,    // ç”¨æ¥åœ¨æ— æ•°æ®çš„æƒ…å†µä¸‹éšè—é¡µé¢
                hidePage: 0,    // ç”¨æ¥åœ¨æ— æ•°æ®çš„æƒ…å†µä¸‹æ˜¾ç¤ºæ›¿ä»£é¡µé¢
                Location:"",    // ç”¨æˆ·è¾“å…¥çš„åœ°åŒº
                quality:"", // ç”¨æ¥æ”¹å˜ç©ºæ°”è´¨é‡æ°”æ³¡é¢œè‰²
                weekcasts:[],   // ç”¨æ¥å­˜å‚¨é«˜å¾·4æ—¥å¤©æ°”é¢„æŠ¥æ•°æ®ï¼Œä¸°å¯Œæ•°æ®é‡ï¼ˆç”±äºæ¥å£é—®é¢˜ï¼Œæ­¤é¡¹åªèƒ½æä¾›ipåœ°å€æ‰€åœ¨ä½ç½®çš„å¤©æ°”æ•°æ®ï¼Œæ‰‹åŠ¨æŸ¥è¯¢ä¸å¯ç”¨ï¼‰
                week:"", // ç”¨æ¥å­˜å‚¨åå¤©æ˜¯å‘¨å‡ 
                updateTime:"",  // æ•°æ®æ›´æ–°æ—¶é—´
                Adm:"", // ç”¨æˆ·è¾“å…¥çš„ä¸Šçº§è¡Œæ”¿åŒºåŸŸ
                adcode:"",  // adcodeç¼–ç 
                hfid:"",    // å’Œé£åŸå¸‚ç¼–ç  id
                cityName:"",    // åŸå¸‚å
                todayWeather:[],    // ä»Šæ—¥å¤©æ°”
                moreWeather:[],  // ä¸‰æ—¥å¤©æ°”
                todayAqi:[] // ä»Šæ—¥ç©ºæ°”è´¨é‡
            },
            mounted: function() {
                this.weatherInit();
            },
            methods: {
                changePage : function(){
                    var weather = this;
                    weather.mainPage = 0;
                    weather.hidePage = 1;
                },
                searchInfo : function(){
                    var weather = this;
                    axios.get("https://geoapi.qweather.com/v2/city/lookup?key=&location="+weather.Location+"&adm="+weather.Adm)
                    .then(function (response){
                        if(response.data.code == 200){
                            weather.hfid = response.data.location[0].id;
                            weather.cityName = response.data.location[0].name;
                            axios.get("https://devapi.qweather.com/v7/weather/now?key=&location="+weather.hfid)
                            .then(function (response){
                                if(response.data.code == 200){
                                    weather.todayWeather = response.data.now;
                                    weather.updateTime = weather.todayWeather.obsTime.slice(11,16);
                                    console.log(weather.todayWeather);
                                }else{
                                    $(".inquirefail4").fadeIn("slow");
                                    return;
                                }
                            })
                            axios.get("https://devapi.qweather.com/v7/weather/3d?key=&location="+weather.hfid)
                            .then(function (response){
                                if(response.data.code == 200){
                                    weather.moreWeather = response.data.daily;
                                    console.log(weather.moreWeather);
                                }else{
                                    $(".inquirefail4").fadeIn("slow");
                                    return;
                                }
                            })
                            axios.get("https://devapi.qweather.com/v7/air/now?key=&location="+weather.hfid)
                            .then(function (response){
                                if(response.data.code == 200){
                                    weather.todayAqi = response.data.now;
                                    if(weather.todayAqi.level == 1)
                                        weather.quality = "background-color: #27a844";
                                    else if(weather.todayAqi.level == 2)
                                        weather.quality = "background-color: #f9da65;";
                                    else if(weather.todayAqi.level == 3)
                                        weather.quality = "background-color: #f29f39;";
                                    else if(weather.todayAqi.level == 4)
                                        weather.quality = "background-color: #db555e;";
                                    else if(weather.todayAqi.level == 5)
                                        weather.quality = "background-color: #ba3779;";
                                    else if(weather.todayAqi.level == 6)
                                        weather.quality = "background-color: #890b20";
                                    console.log(weather.todayAqi);
                                }else{
                                    $(".inquirefail3").fadeIn("slow");
                                    weather.mainPage = 1;
                                    weather.hidePage = 0;
                                    return;
                                }
                            })
                        }else{
                            if(weather.Location == "")
                                $(".inquirefail6").fadeIn("slow");
                            else
                                $(".inquirefail2").fadeIn("slow"); 
                        }
                    })
                    $(".inquirefail").fadeOut("fast");
                    weather.mainPage = 1;
                    weather.hidePage = 0;
                },
                weatherInit : function() {
                    var weather = this;
                    var ip = returnCitySN["cip"];
                    axios.get("https://restapi.amap.com/v3/ip?key=&ip="+ip)
                    .then(function (response){
                        weather.adcode = response.data.adcode;
                        weather.cityName = response.data.city;
                        console.log(weather.cityName);
                        axios.get("https://geoapi.qweather.com/v2/city/lookup?key=&location="+weather.adcode)
                        .then(function (response){
                            weather.hfid = response.data.location[0].id;
                            axios.get("https://devapi.qweather.com/v7/weather/now?key=&location="+weather.hfid)
                            .then(function (response){
                                weather.todayWeather = response.data.now;
                                weather.updateTime = weather.todayWeather.obsTime.slice(11,16);
                                console.log(weather.todayWeather);
                            })
                            axios.get("https://devapi.qweather.com/v7/weather/3d?key=&location="+weather.hfid)
                            .then(function (response){
                                    weather.moreWeather = response.data.daily;
                                    console.log(weather.moreWeather);
                            })
                            axios.get("https://devapi.qweather.com/v7/air/now?key=&location="+weather.hfid)
                            .then(function (response){
                                weather.todayAqi = response.data.now;
                                if(weather.todayAqi.level == 1)
                                    weather.quality = "background-color: #27a844";
                                else if(weather.todayAqi.level == 2)
                                    weather.quality = "background-color: #f9da65;";
                                else if(weather.todayAqi.level == 3)
                                    weather.quality = "background-color: #f29f39;";
                                else if(weather.todayAqi.level == 4)
                                    weather.quality = "background-color: #db555e;";
                                else if(weather.todayAqi.level == 5)
                                    weather.quality = "background-color: #ba3779;";
                                else if(weather.todayAqi.level == 6)
                                    weather.quality = "background-color: #890b20";
                                console.log(weather.todayAqi);
                            })
                        })
                        axios.get("https://restapi.amap.com/v3/weather/weatherInfo?key=&extensions=all&city="+weather.adcode)
                        .then(function (response){
                            weather.weekcasts = response.data.forecasts[0].casts;
                            switch(weather.weekcasts[2].week){
                                case "1": weather.week = "æ˜ŸæœŸä¸€"; break;
                                case "2": weather.week = "æ˜ŸæœŸäºŒ"; break;
                                case "3": weather.week = "æ˜ŸæœŸä¸‰"; break;
                                case "4": weather.week = "æ˜ŸæœŸå››"; break;
                                case "5": weather.week = "æ˜ŸæœŸäº”"; break;
                                case "6": weather.week = "æ˜ŸæœŸå…­"; break;
                                case "7": weather.week = "æ˜ŸæœŸæ—¥"; break;
                            }
                        })
                    })
                    .catch(function (error){                      
                        console.log(error);
                        $(".inquirefail1").fadeIn("slow");
                        weather.mainPage = 0;
                        weather.hidePage = 1;
                        return;
                    })
                    console.log(returnCitySN["cip"]);
                }
            }
        })
    </script>

    <!-- jQuery å’Œ Bootstrap é›†æˆåŒ…ï¼ˆé›†æˆäº† Popperï¼‰ -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script src="./bootstrap.bundle.js"></script>
</body>